(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1609e39a"],{3168:function(t,e,a){"use strict";var i=a("604f"),s=a.n(i);s.a},"604f":function(t,e,a){},"84df":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"daily-article"},[a("div",{staticClass:"daily-article-title"},[t._v(t._s(t.data.title))]),a("div",{staticClass:"daily-article-content",domProps:{innerHTML:t._s(t.data.body)}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.comments.length,expression:"comments.length"}],staticClass:"daily-comments"},[a("span",[t._v("评论 "+t._s(t.comments.length))]),t._l(t.comments,function(e){return a("div",{key:e.id,staticClass:"daily-comment"},[a("div",{staticClass:"daily-comment-avatar"},[a("img",{attrs:{src:e.avatar,alt:""}})]),a("div",{staticClass:"daily-comment-content"},[a("div",{staticClass:"daily-comment-name"},[t._v(t._s(e.author))]),a("div",{directives:[{name:"time",rawName:"v-time",value:e.time,expression:"comment.time"}],staticClass:"daily-comment-time"},[t._v(t._s(e.time))]),a("div",{staticClass:"daily-comment-text"},[t._v(t._s(e.content))])])])})],2)])},s=[],n=a("c276");const o={getUnix:function(){let t=new Date;return t.getTime()},getTodayUnix:function(){let t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()},getYearUnix:function(){let t=new Date;return t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()},getLastDate:function(t){let e=new Date(t),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getDate()<10?"0"+e.getDate():e.getDate();return e.getFullYear()+"-"+a+"-"+i},getFormatTime:function(t){let e=this.getUnix(),a=this.getTodayUnix(),i=(this.getYearUnix(),(e-t)/1e3),s="";return s=i<=0?"刚刚":i<3600?Math.floor(i/60)+"分钟前":i>=3600&&t-a>=0?Math.floor(i/3600)+"小时前":i/86400<=31?Math.ceil(i/86400)+"天前":this.getLastDate(t),s}};var c={bind:function(t,e){t.innerHTML=o.getFormatTime(e.value),t.__timeout__=setInterval(function(){t.innerHTML=o.getFormatTime(e.value)},6e4)},unbind:function(t){clearInterval(t.__timeout__),delete t.__timeout__}},r={name:"daily-article",directives:{Time:c},props:{id:{type:Number,default:0}},data(){return{data:{},comments:[]}},methods:{getArticle(){n["a"].ajax.get("news/"+this.id).then(t=>{t.body=t.body.replace(/src="http/g,'src="'+n["a"].imgPath+"http"),t.body=t.body.replace(/src="https/g,'src="'+n["a"].imgPath+"https"),this.data=t,window.scrollTo(0,0)})},getComments(){this.comments=[],n["a"].ajax.get("story/"+this.id+"/short-comments").then(t=>{this.comments=t.comments.map(t=>{return t.avatar=n["a"].imgPath+t.avatar,t})})}},watch:{id(t){t&&(this.getArticle(),this.getComments())}}},l=r,m=(a("3168"),a("2877")),d=Object(m["a"])(l,i,s,!1,null,null,null);d.options.__file="DailyArticle.vue";e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-1609e39a.ee486dfc.js.map